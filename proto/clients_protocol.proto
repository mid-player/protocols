syntax = "proto3";

package io.client_protocol;

option java_package = "io.mid_player";
option java_outer_classname = "ClientBrokerProtocol";
option java_multiple_files = true;

message EventSubscription {
  fixed32 user_id = 1;
  fixed32 channel_id = 2;
  repeated fixed32 topic_ids = 3;
}

message EventSubscriptionResponse {
  enum Result {
    OK = 0;
    FAILED = 1;
  }
  Result result = 1;
  repeated fixed32 topic_ids = 2;
}

message EventProduction {
  fixed32 topic_id = 1;
  bytes payload = 2;
  fixed64 timestamp = 3;
}

message EventStreaming {
  fixed32 topic_id = 1;
  bytes payload = 2;
  fixed64 timestamp = 3;
  fixed64 production_timestamp = 4;
}